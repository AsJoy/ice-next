import { runServerApp } from '@ice/runtime';
import appConfig from '@/app';
import runtimeModules from './runtimeModules';
import Document from '@/document';
import routes from './routes.server';
import assetsManifest from '../build/assets-manifest.json';

export async function render(requestContext, documentOnly = false) {
  return await runServerApp({
    requestContext: requestContext,
    appConfig: appConfig,
    runtimeModules: runtimeModules,
    routes: routes,
    assetsManifest: assetsManifest,
    Document: Document,
    documentOnly: documentOnly,
  });
}